{% extends "layout.html" %}

{% block beforeContent %}
  <a href="/results?find={{ data['find'] }}" class="govuk-back-link">Back</a>
{% endblock %}

{% block content %}
  <form action='/claimant/reissue/confirmation-page/{{type}}' method='post' class='form' autocomplete='off'>
    <div class="govuk-grid-row">

      <div class="govuk-grid-column-full">
        <h1 class='govuk-heading-l'>
          Reissue {{ type | lower }} to {{ claimant.firstName }} {{ claimant.lastName }}
        </h1>
      </div>
        {# <p class="govuk-body-l">This will send the {{ type | lower }} to the claimant again.</p> #}

      <div class="govuk-grid-column-two-thirds">
        {% set regExp = r/letter/ %}
        {% if regExp.test(type) %}
          {% set condNewAddress %}

            {{ govukInput({
              label: {
                html: 'Building and street <span class="govuk-visually-hidden">line 1 of 2</span>'
              },
              id: "address-line-1",
              name: "address-line-1"
            }) }}

            {{ govukInput({
              label: {
                html: '<span class="govuk-visually-hidden">Building and street line 2 of 2</span>'
              },
              id: "address-line-2",
              name: "address-line-2"
            }) }}

            {{ govukInput({
              label: {
                text: "Town or city"
              },
              classes: "govuk-!-width-two-thirds",
              id: "address-town",
              name: "address-town"
            }) }}

            {{ govukInput({
              label: {
                text: "County"
              },
              classes: "govuk-!-width-two-thirds",
              id: "address-county",
              name: "address-county"
            }) }}

            {{ govukInput({
              label: {
                text: "Postcode"
              },
              classes: "govuk-input--width-10",
              id: "address-postcode",
              name: "address-postcode"
            }) }}

          {% endset -%}

          {{ govukCheckboxes({
            idPrefix: 'new-address',
            name: 'new-address',
            items: [
              {
                value: 'yes',
                text: 'Send the letter to a different address',
                conditional: {
                  html: condNewAddress
                }
              }
            ]
          }) }}

          {% set btnText = "Send letter" %}
        {% else %}
          {% set condNewNumber %}
            {{ govukInput({
              label: {
                html: 'Number'
              },
              classes: "govuk-input--width-20",
              id: "mobile",
              name: "mobile"
            }) }}
          {% endset -%}

          {{ govukCheckboxes({
            idPrefix: 'new-number',
            name: 'new-number',
            items: [
              {
                value: 'yes',
                text: 'Send the text to a different number',
                conditional: {
                  html: condNewNumber
                }
              }
            ]
          }) }}

          {% set btnText = "Send text" %}
        {% endif %}



        {{ govukButton({
          text: btnText,
          classes: ""
        }) }}

      </div>
    </div>
  </form>
{% endblock %}
